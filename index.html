<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BAT AI</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.cdnfonts.com/css/gebuk" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Marked.js –¥–ª—è Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- DOMPurify –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
</head>
<body>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="main-container">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <h1 class="header-logo">BAT AI</h1>
            <button class="clear-btn" id="clearBtn" title="–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
                </svg>
            </button>
        </header>

        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <main class="home-page" id="homePage">
            <div class="home-bg-image"></div>
            
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
            <div class="home-content">
                <h1 class="home-logo">BAT AI</h1>
                <p class="home-subtitle">–í–∞—à —É–º–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</p>
                
                <!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ -->
                <div class="suggestions-container">
                    <div class="suggestions-scroll" id="suggestionsScroll">
                        <button class="suggestion-card" data-prompt="–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏">
                            <span class="suggestion-icon">üî¨</span>
                            <span class="suggestion-text">–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏</span>
                        </button>
                        <button class="suggestion-card" data-prompt="–ù–∞–ø–∏—à–∏ –∫–æ–¥ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ –Ω–∞ Python">
                            <span class="suggestion-icon">üíª</span>
                            <span class="suggestion-text">–ù–∞–ø–∏—à–∏ –∫–æ–¥ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ –Ω–∞ Python</span>
                        </button>
                        <button class="suggestion-card" data-prompt="–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å?">
                            <span class="suggestion-icon">‚ö°</span>
                            <span class="suggestion-text">–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å?</span>
                        </button>
                        <button class="suggestion-card" data-prompt="–†–∞—Å—Å–∫–∞–∂–∏ –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–µ–Ω–¥–∞—Ö –≤ AI">
                            <span class="suggestion-icon">ü§ñ</span>
                            <span class="suggestion-text">–†–∞—Å—Å–∫–∞–∂–∏ –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç—Ä–µ–Ω–¥–∞—Ö –≤ AI</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ –≤–Ω–∏–∑—É -->
            <div class="home-input-container">
                <div class="home-input-wrapper">
                    <textarea 
                        id="homeMessageInput" 
                        placeholder="–°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ —É–≥–æ–¥–Ω–æ..." 
                        rows="1"
                        maxlength="4000"
                    ></textarea>
                    <div class="token-progress-wrapper" id="homeTokenProgress" title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞ 24 —á–∞—Å–∞">
                        <svg class="token-progress-circle" width="40" height="40" viewBox="0 0 40 40">
                            <circle class="progress-bg" cx="20" cy="20" r="16" />
                            <circle class="progress-bar" cx="20" cy="20" r="16" />
                        </svg>
                        <span class="token-progress-text">0</span>
                    </div>
                    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø–∏—Å–∏ —Ä–µ—á–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                    <button class="voice-btn" id="homeVoiceBtn" title="–ó–∞–ø–∏—Å–∞—Ç—å –≥–æ–ª–æ—Å–æ–º">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" y1="19" x2="12" y2="23"></line>
                            <line x1="8" y1="23" x2="16" y2="23"></line>
                        </svg>
                    </button>
                    <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                    <button class="send-btn hidden" id="homeSendBtn" disabled>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </main>

        <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
        <main class="chat-container hidden" id="chatContainer">
            <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
        </main>

        <!-- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –≤ —á–∞—Ç–µ -->
        <footer class="input-container hidden" id="inputContainer">
            <div class="input-wrapper">
                <textarea 
                    id="messageInput" 
                    placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                    rows="1"
                    maxlength="4000"
                ></textarea>
                <div class="token-progress-wrapper" id="chatTokenProgress" title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ç–æ–∫–µ–Ω–æ–≤ –∑–∞ 24 —á–∞—Å–∞">
                    <svg class="token-progress-circle" width="40" height="40" viewBox="0 0 40 40">
                        <circle class="progress-bg" cx="20" cy="20" r="16" />
                        <circle class="progress-bar" cx="20" cy="20" r="16" />
                    </svg>
                    <span class="token-progress-text">0</span>
                </div>
                <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø–∏—Å–∏ —Ä–µ—á–∏ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                <button class="voice-btn" id="chatVoiceBtn" title="–ó–∞–ø–∏—Å–∞—Ç—å –≥–æ–ª–æ—Å–æ–º">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" y1="19" x2="12" y2="23"></line>
                        <line x1="8" y1="23" x2="16" y2="23"></line>
                    </svg>
                </button>
                <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                <button class="send-btn hidden" id="sendBtn" disabled>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                    </svg>
                </button>
            </div>
            <div class="input-footer">
                <span class="char-count" id="charCount">0 / 4000</span>
            </div>
        </footer>
    </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è API –∫–ª—é—á–∞ -->
        <div class="modal" id="apiModal">
            <div class="modal-content">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API</h2>
                <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á –æ—Ç GigaChat</p>
                <input 
                    type="password" 
                    id="apiKeyInput" 
                    placeholder="–í—Å—Ç–∞–≤—å—Ç–µ API –∫–ª—é—á –∑–¥–µ—Å—å..."
                    class="api-input"
                >
                <div class="modal-actions">
                    <button class="btn-secondary" id="apiHelpBtn">–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å?</button>
                    <button class="btn-primary" id="apiSaveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
